<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cotizador Automotora</title>
    <style>
        /* ... (mantener los estilos existentes) ... */
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <img src="/api/placeholder/150/100" alt="Logo Automotora" class="logo">
            <h1>Cotizador Automotora</h1>
        </div>

        <form id="cotizadorForm">
            <!-- ... (mantener el contenido del formulario existente) ... -->

            <button type="button" id="descargarBtn">Descargar Cotización</button>
            <button type="button" id="mostrarBtn">Mostrar Cotización</button>
        </form>
    </div>

    <div id="cotizacionImprimible" style="display:none;"></div>

    <script>
        document.getElementById('descargarBtn').addEventListener('click', function() {
            generarCotizacion(true);
        });

        document.getElementById('mostrarBtn').addEventListener('click', function() {
            generarCotizacion(false);
        });

        function generarCotizacion(descargar) {
            const nombre = document.getElementById('nombre').value;
            const email = document.getElementById('email').value;
            const telefono = document.getElementById('telefono').value;
            const marca = document.getElementById('marca').value;
            const modelo = document.getElementById('modelo').value;
            const anio = document.getElementById('anio').value;
            const tipo = document.getElementById('tipo').value;
            const caracteristicas = document.getElementById('caracteristicas').value;
            const precio = parseFloat(document.getElementById('precio').value);
            const financiamiento = document.getElementById('financiamiento').value;
            const plazo = document.getElementById('plazo').value;
            const condiciones = document.getElementById('condiciones').value;
            
            let total = precio;
            if (financiamiento === 'credito') {
                total *= 1.1;
            } else if (financiamiento === 'leasing') {
                total *= 1.15;
            }

            const cotizacionHTML = `
            <div class="container">
                <div class="header">
                    <img src="/api/placeholder/150/100" alt="Logo Automotora" class="logo">
                    <h1>Cotización Automotora para ${nombre}</h1>
                </div>
                
                <div class="section">
                    <h2>Información del Cliente</h2>
                    <div class="info-grid">
                        <div class="info-item"><strong>Nombre:</strong> ${nombre}</div>
                        <div class="info-item"><strong>Email:</strong> ${email}</div>
                        <div class="info-item"><strong>Teléfono:</strong> ${telefono}</div>
                    </div>
                </div>
                
                <div class="section">
                    <h2>Detalles del Vehículo</h2>
                    <div class="info-grid">
                        <div class="info-item"><strong>Marca:</strong> ${marca}</div>
                        <div class="info-item"><strong>Modelo:</strong> ${modelo}</div>
                        <div class="info-item"><strong>Año:</strong> ${anio}</div>
                        <div class="info-item"><strong>Tipo:</strong> ${tipo}</div>
                    </div>
                    <div class="info-item"><strong>Características:</strong> ${caracteristicas}</div>
                </div>
                
                <div class="section">
                    <h2>Condiciones Comerciales</h2>
                    <div class="info-grid">
                        <div class="info-item"><strong>Precio Base:</strong> $${precio.toLocaleString('es-CL')} CLP</div>
                        <div class="info-item"><strong>Financiamiento:</strong> ${financiamiento}</div>
                        <div class="info-item"><strong>Plazo:</strong> ${plazo} meses</div>
                    </div>
                    <div class="info-item"><strong>Condiciones Adicionales:</strong> ${condiciones}</div>
                </div>
                
                <div class="total">
                    <strong>Total Estimado:</strong> $${total.toLocaleString('es-CL')} CLP
                </div>
                
                <div class="footer">
                    <p>Esta cotización es válida por 30 días. Para más información, contáctenos.</p>
                </div>
            </div>`;

            if (descargar) {
                const blob = new Blob([cotizacionHTML], { type: 'text/html' });
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = 'cotizacion_' + nombre.replace(/\s+/g, '_') + '.html';
                a.click();
            } else {
                const cotizacionImprimible = document.getElementById('cotizacionImprimible');
                cotizacionImprimible.innerHTML = cotizacionHTML;
                cotizacionImprimible.style.display = 'block';
            }
        }
    </script>
</body>
</html>
