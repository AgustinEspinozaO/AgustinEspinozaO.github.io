<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrega y Recepción de Vehículos</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        .step {
            display: none;
        }
        .step.active {
            display: block;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
        }
        .pdf-header {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 10px;
        }
        .pdf-section {
            margin-bottom: 15px;
        }
        .pdf-label {
            font-weight: bold;
        }
        .pdf-content {
            margin-top: 5px;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
    <div class="container mx-auto p-8 bg-white rounded-lg shadow-lg max-w-4xl">
        <h1 class="text-3xl font-bold text-center text-blue-600 mb-8">Entrega y Recepción de Vehículos</h1>
        
        <div class="mb-8">
            <div class="relative pt-1">
                <div class="flex mb-2 items-center justify-between">
                    <div>
                        <span class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200" id="progress-text">
                            Paso 1 de 4
                        </span>
                    </div>
                </div>
                <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200">
                    <div class="progress-bar shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500" style="width: 25%"></div>
                </div>
            </div>
        </div>

        <form id="vehicleForm" class="space-y-6">
            <!-- Paso 1: Información del Cliente -->
            <div class="step active" id="step1">
                <h2 class="text-xl font-semibold mb-4">Información del Cliente</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="nombre" class="block text-sm font-medium text-gray-700">Nombre del Cliente</label>
                        <input type="text" id="nombre" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="ci" class="block text-sm font-medium text-gray-700">C.I.</label>
                        <input type="text" id="ci" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                        <input type="email" id="email" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="telefono" class="block text-sm font-medium text-gray-700">Teléfono</label>
                        <input type="tel" id="telefono" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                </div>
                <div class="flex justify-end">
                    <button type="button" class="next-btn bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-300">Siguiente</button>
                </div>
            </div>

            <!-- Paso 2: Detalles del Vehículo -->
            <div class="step" id="step2">
                <h2 class="text-xl font-semibold mb-4">Detalles del Vehículo</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="marca" class="block text-sm font-medium text-gray-700">Marca del Vehículo</label>
                        <input type="text" id="marca" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="modelo" class="block text-sm font-medium text-gray-700">Modelo del Vehículo</label>
                        <input type="text" id="modelo" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="placas" class="block text-sm font-medium text-gray-700">Placas</label>
                        <input type="text" id="placas" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="chasis" class="block text-sm font-medium text-gray-700">Número de Chasis</label>
                        <input type="text" id="chasis" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="kilometraje" class="block text-sm font-medium text-gray-700">Kilometraje</label>
                        <input type="number" id="kilometraje" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="combustible" class="block text-sm font-medium text-gray-700">Nivel de Combustible</label>
                        <select id="combustible" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                            <option value="">Seleccione...</option>
                            <option value="1">1/8</option>
                            <option value="2">2/8</option>
                            <option value="3">3/8</option>
                            <option value="4">4/8</option>
                            <option value="5">5/8</option>
                            <option value="6">6/8</option>
                            <option value="7">7/8</option>
                            <option value="8">8/8</option>
                        </select>
                    </div>
                </div>
                <div class="flex justify-between">
                    <button type="button" class="prev-btn bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-300">Anterior</button>
                    <button type="button" class="next-btn bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-300">Siguiente</button>
                </div>
            </div>

            <!-- Paso 3: Inspección del Vehículo -->
            <div class="step" id="step2">
                <h2 class="text-xl font-semibold mb-4">Inspección del Vehículo</h2>
                <div class="mb-4">
                    <label for="inspectionCondition" class="block text-gray-700">Condición:</label>
                    <select id="inspectionCondition" name="inspectionCondition" class="mt-1 block w-full border border-gray-300 rounded-md p-2" required>
                        <option value="Excelente">Excelente</option>
                        <option value="Buena">Buena</option>
                        <option value="Regular">Regular</option>
                        <option value="Mala">Mala</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label for="inspectionNotes" class="block text-gray-700">Notas:</label>
                    <textarea id="inspectionNotes" name="inspectionNotes" class="mt-1 block w-full border border-gray-300 rounded-md p-2" rows="4" required></textarea>
                </div>
                <div class="mb-4">
                    <label for="inspectionTires" class="block text-gray-700">Estado de Neumáticos:</label>
                    <input type="text" id="inspectionTires" name="inspectionTires" class="mt-1 block w-full border border-gray-300 rounded-md p-2">
                </div>
                <div class="mb-4">
                    <label for="inspectionEngine" class="block text-gray-700">Estado del Motor:</label>
                    <input type="text" id="inspectionEngine" name="inspectionEngine" class="mt-1 block w-full border border-gray-300 rounded-md p-2">
                </div>
                <div class="mb-4">
                    <label for="inspectionBrakes" class="block text-gray-700">Estado de Frenos:</label>
                    <input type="text" id="inspectionBrakes" name="inspectionBrakes" class="mt-1 block w-full border border-gray-300 rounded-md p-2">
                </div>
                <div class="flex justify-between">
                    <button type="button" class="prev-btn bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-300">Anterior</button>
                    <button type="button" class="next-btn bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-300">Siguiente</button>
                </div>
            </div>

            <!-- Paso 4: Confirmación y Resumen -->
            <div class="step" id="step4">
                <h2 class="text-xl font-semibold mb-4">Confirmación y Resumen</h2>
                <div id="summary" class="space-y-4">
                    <!-- Resumen dinámico generado aquí -->
                </div>
                <div class="flex justify-between">
                    <button type="button" class="prev-btn bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition duration-300">Anterior</button>
                    <button type="button" class="submit-btn bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-300">Generar PDF</button>
                </div>
            </div>
        </form>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const steps = document.querySelectorAll('.step');
            const progressBar = document.querySelector('.progress-bar');
            const progressText = document.getElementById('progress-text');
            let currentStep = 0;

            function showStep(stepIndex) {
                steps.forEach((step, index) => {
                    step.classList.toggle('active', index === stepIndex);
                });
                progressBar.style.width = `${(stepIndex + 1) * 25}%`;
                progressText.textContent = `Paso ${stepIndex + 1} de 4`;
                updateSummary();
            }

            function updateSummary() {
                const summary = document.getElementById('summary');
                const formData = new FormData(document.getElementById('vehicleForm'));
                summary.innerHTML = '';
                formData.forEach((value, key) => {
                    if (key !== 'step') {
                        summary.innerHTML += `<div class="pdf-section">
                            <span class="pdf-label">${key.replace(/([A-Z])/g, ' $1').toUpperCase()}:</span>
                            <div class="pdf-content">${value}</div>
                        </div>`;
                    }
                });
            }

            document.querySelectorAll('.next-btn').forEach(button => {
                button.addEventListener('click', () => {
                    if (currentStep < steps.length - 1) {
                        currentStep++;
                        showStep(currentStep);
                    }
                });
            });

            document.querySelectorAll('.prev-btn').forEach(button => {
                button.addEventListener('click', () => {
                    if (currentStep > 0) {
                        currentStep--;
                        showStep(currentStep);
                    }
                });
            });

            document.querySelector('.submit-btn').addEventListener('click', () => {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                doc.text('Resumen de Entrega y Recepción de Vehículo', 10, 10);
                const pdfContent = document.getElementById('summary').innerText;
                doc.text(pdfContent, 10, 20);
                doc.save('resumen-entrega-recepcion.pdf');
            });

            showStep(currentStep);
        });
    </script>
</body>
</html>

