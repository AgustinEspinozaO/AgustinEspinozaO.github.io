<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrega y Recepción de Vehículos</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        .step {
            display: none;
        }
        .step.active {
            display: block;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
        }
        .pdf-header, .pdf-footer {
            text-align: center;
            margin: 20px 0;
        }
        .pdf-content {
            margin: 20px;
        }
        .pdf-content h2 {
            margin-bottom: 10px;
        }
        .pdf-content p {
            margin: 5px 0;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
    <div class="container mx-auto p-8 bg-white rounded-lg shadow-lg max-w-4xl">
        <h1 class="text-3xl font-bold text-center text-blue-600 mb-8">Entrega y Recepción de Vehículos</h1>
        
        <div class="mb-8">
            <div class="relative pt-1">
                <div class="flex mb-2 items-center justify-between">
                    <div>
                        <span class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200" id="progress-text">
                            Paso 1 de 4
                        </span>
                    </div>
                </div>
                <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200">
                    <div class="progress-bar shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500" style="width: 25%"></div>
                </div>
            </div>
        </div>

        <form id="vehicleForm" class="space-y-6">
            <!-- Paso 1: Información del Cliente -->
            <div class="step active" id="step1">
                <h2 class="text-xl font-semibold mb-4">Información del Cliente</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="nombre" class="block text-sm font-medium text-gray-700">Nombre del Cliente</label>
                        <input type="text" id="nombre" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="ci" class="block text-sm font-medium text-gray-700">C.I.</label>
                        <input type="text" id="ci" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                        <input type="email" id="email" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="telefono" class="block text-sm font-medium text-gray-700">Teléfono</label>
                        <input type="tel" id="telefono" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                </div>
                <div class="flex justify-end">
                    <button type="button" class="next-btn bg-blue-600 text-white py-2 px-4 rounded-md">Siguiente</button>
                </div>
            </div>

            <!-- Paso 2: Detalles del Vehículo -->
            <div class="step" id="step2">
                <h2 class="text-xl font-semibold mb-4">Detalles del Vehículo</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="marca" class="block text-sm font-medium text-gray-700">Marca del Vehículo</label>
                        <input type="text" id="marca" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="modelo" class="block text-sm font-medium text-gray-700">Modelo del Vehículo</label>
                        <input type="text" id="modelo" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="placas" class="block text-sm font-medium text-gray-700">Placas</label>
                        <input type="text" id="placas" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="chasis" class="block text-sm font-medium text-gray-700">Número de Chasis</label>
                        <input type="text" id="chasis" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="kilometraje" class="block text-sm font-medium text-gray-700">Kilometraje</label>
                        <input type="number" id="kilometraje" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="combustible" class="block text-sm font-medium text-gray-700">Nivel de Combustible</label>
                        <select id="combustible" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                            <option value="">Seleccione...</option>
                            <option value="1">1/8</option>
                            <option value="2">2/8</option>
                            <option value="3">3/8</option>
                            <option value="4">4/8</option>
                            <option value="5">5/8</option>
                            <option value="6">6/8</option>
                            <option value="7">7/8</option>
                            <option value="8">8/8</option>
                        </select>
                    </div>
                </div>
                <div class="flex justify-between">
                    <button type="button" class="prev-btn bg-gray-600 text-white py-2 px-4 rounded-md">Anterior</button>
                    <button type="button" class="next-btn bg-blue-600 text-white py-2 px-4 rounded-md">Siguiente</button>
                </div>
            </div>

            <!-- Paso 3: Inspección del Vehículo -->
            <div class="step" id="step3">
                <h2 class="text-xl font-semibold mb-4">Inspección del Vehículo</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div><label><input type="checkbox" id="espejoRetrovisor" class="mt-1 mr-2"> Espejo Retrovisor</label></div>
                    <div><label><input type="checkbox" id="parabrisas" class="mt-1 mr-2"> Parabrisas</label></div>
                    <div><label><input type="checkbox" id="limpiaParabrisas" class="mt-1 mr-2"> Limpia Parabrisas</label></div>
                    <div><label><input type="checkbox" id="alfombras" class="mt-1 mr-2"> Alfombras</label></div>
                    <div><label><input type="checkbox" id="tapiceria" class="mt-1 mr-2"> Tapicería</label></div>
                    <div><label><input type="checkbox" id="controlesElectricos" class="mt-1 mr-2"> Controles Eléctricos</label></div>
                    <div><label><input type="checkbox" id="encendedor" class="mt-1 mr-2"> Encendedor / Switch</label></div>
                                        <div><label><input type="checkbox" id="radioReproductor" class="mt-1 mr-2"> Radio / Reproductor</label></div>
                    <div><label><input type="checkbox" id="luces" class="mt-1 mr-2"> Luces</label></div>
                    <div><label><input type="checkbox" id="neblineros" class="mt-1 mr-2"> Neblineros</label></div>
                    <div><label><input type="checkbox" id="llantas" class="mt-1 mr-2"> Llantas</label></div>
                    <div><label><input type="checkbox" id="frenos" class="mt-1 mr-2"> Frenos</label></div>
                </div>
                <div class="flex justify-between">
                    <button type="button" class="prev-btn bg-gray-600 text-white py-2 px-4 rounded-md">Anterior</button>
                    <button type="button" class="next-btn bg-blue-600 text-white py-2 px-4 rounded-md">Siguiente</button>
                </div>
            </div>

            <!-- Paso 4: Confirmación y Generación del PDF -->
            <div class="step" id="step4">
                <h2 class="text-xl font-semibold mb-4">Confirmación</h2>
                <p class="text-gray-700 mb-4">Revise la información ingresada antes de generar el PDF.</p>
                <div class="flex justify-between">
                    <button type="button" class="prev-btn bg-gray-600 text-white py-2 px-4 rounded-md">Anterior</button>
                    <button type="button" id="generatePdf" class="bg-green-600 text-white py-2 px-4 rounded-md">Generar PDF</button>
                </div>
            </div>
        </form>
    </div>

    <script>
        const steps = document.querySelectorAll('.step');
        const nextButtons = document.querySelectorAll('.next-btn');
        const prevButtons = document.querySelectorAll('.prev-btn');
        const progressBar = document.querySelector('.progress-bar');
        const progressText = document.getElementById('progress-text');
        let currentStep = 0;

        function showStep(stepIndex) {
            steps.forEach((step, index) => {
                step.classList.toggle('active', index === stepIndex);
            });
            progressBar.style.width = `${(stepIndex + 1) * 25}%`;
            progressText.textContent = `Paso ${stepIndex + 1} de 4`;
        }

        nextButtons.forEach(button => {
            button.addEventListener('click', () => {
                if (currentStep < steps.length - 1) {
                    currentStep++;
                    showStep(currentStep);
                }
            });
        });

        prevButtons.forEach(button => {
            button.addEventListener('click', () => {
                if (currentStep > 0) {
                    currentStep--;
                    showStep(currentStep);
                }
            });
        });

        document.getElementById('generatePdf').addEventListener('click', () => {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            doc.setFont('Helvetica', 'normal');

            doc.text('Entrega y Recepción de Vehículos', 105, 20, { align: 'center' });
            doc.setFontSize(12);
            doc.text(`Nombre del Cliente: ${document.getElementById('nombre').value}`, 20, 40);
            doc.text(`C.I.: ${document.getElementById('ci').value}`, 20, 50);
            doc.text(`Email: ${document.getElementById('email').value}`, 20, 60);
            doc.text(`Teléfono: ${document.getElementById('telefono').value}`, 20, 70);
            doc.text(`Marca del Vehículo: ${document.getElementById('marca').value}`, 20, 80);
            doc.text(`Modelo del Vehículo: ${document.getElementById('modelo').value}`, 20, 90);
            doc.text(`Placas: ${document.getElementById('placas').value}`, 20, 100);
            doc.text(`Número de Chasis: ${document.getElementById('chasis').value}`, 20, 110);
            doc.text(`Kilometraje: ${document.getElementById('kilometraje').value}`, 20, 120);
            doc.text(`Nivel de Combustible: ${document.getElementById('combustible').value}`, 20, 130);

            doc.text('Inspección del Vehículo:', 20, 150);
            const inspections = [
                'Espejo Retrovisor',
                'Parabrisas',
                'Limpia Parabrisas',
                'Alfombras',
                'Tapicería',
                'Controles Eléctricos',
                'Encendedor / Switch',
                'Radio / Reproductor',
                'Luces',
                'Neblineros',
                'Llantas',
                'Frenos'
            ];
            inspections.forEach((item, index) => {
                const isChecked = document.getElementById(item.replace(/\s+/g, '')).checked ? 'Sí' : 'No';
                doc.text(`${item}: ${isChecked}`, 20, 160 + (index * 10));
            });

            doc.save('Entrega_Recepcion_Vehiculos.pdf');
        });

        showStep(currentStep);
    </script>
</body>
</html>
