<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrega y Recepción de Vehículos</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        .step {
            display: none;
        }
        .step.active {
            display: block;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
    <div class="container mx-auto p-8 bg-white rounded-lg shadow-lg max-w-4xl">
        <h1 class="text-3xl font-bold text-center text-blue-600 mb-8">Entrega y Recepción de Vehículos</h1>
        
        <div class="mb-8">
            <div class="relative pt-1">
                <div class="flex mb-2 items-center justify-between">
                    <div>
                        <span class="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200" id="progress-text">
                            Paso 1 de 4
                        </span>
                    </div>
                </div>
                <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200">
                    <div class="progress-bar shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500" style="width: 25%"></div>
                </div>
            </div>
        </div>

        <form id="vehicleForm" class="space-y-6">
            <!-- Paso 1: Información del Cliente -->
            <div class="step active" id="step1">
                <h2 class="text-xl font-semibold mb-4">Información del Cliente</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="nombre" class="block text-sm font-medium text-gray-700">Nombre del Cliente</label>
                        <input type="text" id="nombre" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="ci" class="block text-sm font-medium text-gray-700">C.I.</label>
                        <input type="text" id="ci" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                        <input type="email" id="email" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="telefono" class="block text-sm font-medium text-gray-700">Teléfono</label>
                        <input type="tel" id="telefono" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                </div>
                <div class="flex justify-end">
                    <button type="button" class="next-btn bg-blue-600 text-white py-2 px-4 rounded-md">Siguiente</button>
                </div>
            </div>

            <!-- Paso 2: Detalles del Vehículo -->
            <div class="step" id="step2">
                <h2 class="text-xl font-semibold mb-4">Detalles del Vehículo</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="marca" class="block text-sm font-medium text-gray-700">Marca del Vehículo</label>
                        <input type="text" id="marca" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="modelo" class="block text-sm font-medium text-gray-700">Modelo del Vehículo</label>
                        <input type="text" id="modelo" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="placas" class="block text-sm font-medium text-gray-700">Placas</label>
                        <input type="text" id="placas" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="chasis" class="block text-sm font-medium text-gray-700">Número de Chasis</label>
                        <input type="text" id="chasis" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="kilometraje" class="block text-sm font-medium text-gray-700">Kilometraje</label>
                        <input type="number" id="kilometraje" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                    </div>
                    <div>
                        <label for="combustible" class="block text-sm font-medium text-gray-700">Nivel de Combustible</label>
                        <select id="combustible" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" required>
                            <option value="">Seleccione...</option>
                            <option value="1">1/8</option>
                            <option value="2">2/8</option>
                            <option value="3">3/8</option>
                            <option value="4">4/8</option>
                            <option value="5">5/8</option>
                            <option value="6">6/8</option>
                            <option value="7">7/8</option>
                            <option value="8">8/8</option>
                        </select>
                    </div>
                </div>
                <div class="flex justify-between">
                    <button type="button" class="prev-btn bg-gray-600 text-white py-2 px-4 rounded-md">Anterior</button>
                    <button type="button" class="next-btn bg-blue-600 text-white py-2 px-4 rounded-md">Siguiente</button>
                </div>
            </div>

            <!-- Paso 3: Inspección del Vehículo -->
            <div class="step" id="step3">
                <h2 class="text-xl font-semibold mb-4">Inspección del Vehículo</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label><input type="checkbox" id="espejoRetrovisor" class="mt-1 mr-2"> Espejo Retrovisor</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="parabrisas" class="mt-1 mr-2"> Parabrisas</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="limpiaParabrisas" class="mt-1 mr-2"> Limpia Parabrisas</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="alfombras" class="mt-1 mr-2"> Alfombras</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="tapiceria" class="mt-1 mr-2"> Tapicería</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="controlesElectricos" class="mt-1 mr-2"> Controles Eléctricos</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="encendedor" class="mt-1 mr-2"> Encendedor / Switch</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="radioReproductor" class="mt-1 mr-2"> Radio / Reproductor</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="tablero" class="mt-1 mr-2"> Tablero en General</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="espejosLaterales" class="mt-1 mr-2"> Espejos Laterales</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="antena" class="mt-1 mr-2"> Antena</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="manijas" class="mt-1 mr-2"> Manijas / Maniguetas</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="tapaCombustible" class="mt-1 mr-2"> Tapa de Combustible</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="faros" class="mt-1 mr-2"> Faros Delanteros y Traseros</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="lucesDireccionales" class="mt-1 mr-2"> Luces Direccionales</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="lucesRetroceso" class="mt-1 mr-2"> Luces de Retroceso</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="tapaCubos" class="mt-1 mr-2"> Tapa Cubos / Laterales</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="llantas" class="mt-1 mr-2"> Llantas</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="parachoques" class="mt-1 mr-2"> Parachoques</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="costadoDerecho" class="mt-1 mr-2"> Costado Derecho</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="costadoIzquierdo" class="mt-1 mr-2"> Costado Izquierdo</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="capo" class="mt-1 mr-2"> Capó</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="cajuela" class="mt-1 mr-2"> Cajuela</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="techo" class="mt-1 mr-2"> Techo</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="tapaAceite" class="mt-1 mr-2"> Tapa de Aceite</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="varillaAceite" class="mt-1 mr-2"> Varilla de Aceite</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="motor" class="mt-1 mr-2"> Motor</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="tapaRadiador" class="mt-1 mr-2"> Tapa de Radiador</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="gatoHidraulico" class="mt-1 mr-2"> Gato Hidráulico / Llave / Llanta de Emergencia / Cono</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="extintor" class="mt-1 mr-2"> Extintor / Kit de Primeros Auxilios</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="cajaHerramientas" class="mt-1 mr-2"> Caja de Herramientas</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="cablesAuxiliares" class="mt-1 mr-2"> Cables Auxiliares</label>
                    </div>
                    <div>
                        <label><input type="checkbox" id="otros" class="mt-1 mr-2"> Otros</label>
                    </div>
                </div>
                <div class="flex justify-between">
                    <button type="button" class="prev-btn bg-gray-600 text-white py-2 px-4 rounded-md">Anterior</button>
                    <button type="button" class="next-btn bg-blue-600 text-white py-2 px-4 rounded-md">Siguiente</button>
                </div>
            </div>

            <!-- Paso 4: Resumen y Finalización -->
            <div class="step" id="step4">
                <h2 class="text-xl font-semibold mb-4">Resumen</h2>
                <div id="summary" class="space-y-4">
                    <!-- Aquí se mostrarán los datos ingresados por el usuario -->
                </div>
                <div class="flex justify-between">
                    <button type="button" class="prev-btn bg-gray-600 text-white py-2 px-4 rounded-md">Anterior</button>
                    <button type="submit" class="submit-btn bg-green-600 text-white py-2 px-4 rounded-md">Finalizar</button>
                </div>
            </div>
        </form>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', function () {
        let currentStep = 1;
        const totalSteps = 4;

        const steps = document.querySelectorAll('.step');
        const progressBar = document.querySelector('.progress-bar');
        const progressText = document.getElementById('progress-text');

        document.querySelectorAll('.next-btn').forEach(button => {
            button.addEventListener('click', function () {
                if (currentStep < totalSteps) {
                    steps[currentStep - 1].classList.remove('active');
                    currentStep++;
                    steps[currentStep - 1].classList.add('active');
                    updateProgress();
                }
            });
        });

        document.querySelectorAll('.prev-btn').forEach(button => {
            button.addEventListener('click', function () {
                if (currentStep > 1) {
                    steps[currentStep - 1].classList.remove('active');
                    currentStep--;
                    steps[currentStep - 1].classList.add('active');
                    updateProgress();
                }
            });
        });

        document.getElementById('vehicleForm').addEventListener('submit', function (e) {
            e.preventDefault();
            generateSummary();
            generatePDF();
        });

        function updateProgress() {
            progressBar.style.width = (currentStep / totalSteps) * 100 + '%';
            progressText.innerText = `Paso ${currentStep} de ${totalSteps}`;
        }

        function generateSummary() {
            const summary = document.getElementById('summary');
            summary.innerHTML = `
                <p><strong>Nombre del Cliente:</strong> ${document.getElementById('nombre').value}</p>
                <p><strong>C.I.:</strong> ${document.getElementById('ci').value}</p>
                <p><strong>Email:</strong> ${document.getElementById('email').value}</p>
                <p><strong>Teléfono:</strong> ${document.getElementById('telefono').value}</p>
                <p><strong>Marca del Vehículo:</strong> ${document.getElementById('marca').value}</p>
                <p><strong>Modelo del Vehículo:</strong> ${document.getElementById('modelo').value}</p>
                <p><strong>Placas:</strong> ${document.getElementById('placas').value}</p>
                <p><strong>Número de Chasis:</strong> ${document.getElementById('chasis').value}</p>
                <p><strong>Kilometraje:</strong> ${document.getElementById('kilometraje').value}</p>
                <p><strong>Nivel de Combustible:</strong> ${document.getElementById('combustible').value}</p>
                <h3>Inspección del Vehículo</h3>
                ${generateInspectionSummary()}
            `;
        }

        function generateInspectionSummary() {
            const inspectionItems = [
                'espejoRetrovisor', 'parabrisas', 'limpiaParabrisas', 'alfombras',
                'tapiceria', 'controlesElectricos', 'encendedor', 'radioReproductor',
                'tablero', 'espejosLaterales', 'antena', 'manijas', 'tapaCombustible',
                'faros', 'lucesDireccionales', 'lucesRetroceso', 'tapaCubos', 'llantas',
                'parachoques', 'costadoDerecho', 'costadoIzquierdo', 'capo', 'cajuela',
                'techo', 'tapaAceite', 'varillaAceite', 'motor', 'tapaRadiador',
                'gatoHidraulico', 'extintor', 'cajaHerramientas', 'cablesAuxiliares', 'otros'
            ];

            return inspectionItems.map(item => {
                const checkbox = document.getElementById(item);
                return `<p>${item.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}: ${checkbox ? (checkbox.checked ? 'Sí' : 'No') : 'No disponible'}</p>`;
            }).join('');
        }

        function generatePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            doc.text('Acta de Recepción de Vehículos', 10, 10);
            doc.fromHTML(document.getElementById('summary').innerHTML, 10, 20, {
                'width': 170
            });
            doc.save('acta-recepcion.pdf');
        }
    });
</script>
</body>
</html>
